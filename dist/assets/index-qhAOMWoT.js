(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function o(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(t){if(t.ep)return;t.ep=!0;const a=o(t);fetch(t.href,a)}})();async function f(){const e=await fetch("https://randomuser.me/api/");if(!e.ok)throw new Error("Failed to fetch random user");return(await e.json()).results[0]}document.getElementById("year").textContent=new Date().getFullYear();document.getElementById("last-modified").textContent=`Last Modified: ${document.lastModified}`;const h=document.getElementById("generate-name-btn"),s=document.getElementById("random-name-display"),d=document.getElementById("name-category"),B=document.getElementById("name-gender"),u=document.getElementById("fantasy-filters");document.getElementById("fantasy-ancestry");document.getElementById("fantasy-gender");document.getElementById("fantasy-family");const i=document.getElementById("favorite-btn"),g=document.getElementById("favorites-list"),S=document.getElementById("clear-favorites-btn"),y="rng-last-visit",m="rng-favorites",p="rng-last-name";function b(){const n=new Date().toLocaleString();localStorage.setItem(y,n)}(function(){const e=localStorage.getItem(y);e&&console.log("Welcome back! Last visit:",e),b()})();function E(){d.value==="fantasy"?u.style.display="block":u.style.display="none"}d.addEventListener("change",E);E();async function v(){s.textContent="Generating name...",i.disabled=!0;const n=d.value;try{let e="";if(n==="real"){const o=await f(),r=B.value;if(r!=="any"&&o.gender!==r)return v();e=`${o.name.first} ${o.name.last}`}else{const o=await f();e=`${o.name.first} ${o.name.last} | ${fantasy.trim()}`}s.textContent=e,localStorage.setItem(p,e),i.disabled=!1}catch(e){console.error("Error generating name:",e),s.textContent="Failed to load names. Try again."}}h.addEventListener("click",v);(function(){const e=localStorage.getItem(p);e&&(s.textContent=e,i.disabled=!1)})();function I(){return JSON.parse(localStorage.getItem(m))||[]}function L(n){localStorage.setItem(m,JSON.stringify(n))}function c(){const n=I();g.innerHTML="",n.forEach((e,o)=>{const r=document.createElement("li");r.textContent=e;const t=document.createElement("button");t.textContent="X",t.addEventListener("click",()=>{n.splice(o,1),L(n),c()}),r.appendChild(t),g.appendChild(r)})}i.addEventListener("click",()=>{const n=s.textContent;if(!n||n.includes("Generating"))return;const e=I();if(e.length>=10){alert("You can only store 10 favorites.");return}e.push(n),L(e),c()});S.addEventListener("click",()=>{localStorage.removeItem(m),c()});c();
