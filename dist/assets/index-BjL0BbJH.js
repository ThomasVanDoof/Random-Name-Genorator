(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(t){if(t.ep)return;t.ep=!0;const a=r(t);fetch(t.href,a)}})();(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerPolicy&&(t.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?t.credentials="include":n.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(n){if(n.ep)return;n.ep=!0;const t=o(n);fetch(n.href,t)}})();async function f(){const e=await fetch("https://randomuser.me/api/");if(!e.ok)throw new Error("Failed to fetch random user");return(await e.json()).results[0]}async function m(e={}){const o="https://fantasyname.lukewh.com/api/",r=new URLSearchParams;e.ancestry&&r.append("ancestry",e.ancestry),e.gender&&r.append("gender",e.gender),e.family&&r.append("family",e.family);const n=r.toString().length>0?`${o}?${r.toString()}`:o,t=await fetch(n);if(!t.ok)throw new Error("Failed to fetch fantasy name");return t.text()}document.getElementById("year").textContent=new Date().getFullYear();document.getElementById("last-modified").textContent=`Last Modified: ${document.lastModified}`;const S=document.getElementById("generate-name-btn"),i=document.getElementById("random-name-display"),d=document.getElementById("name-category"),B=document.getElementById("name-gender"),y=document.getElementById("fantasy-filters"),C=document.getElementById("fantasy-ancestry"),g=document.getElementById("fantasy-gender"),p=document.getElementById("fantasy-family"),s=document.getElementById("favorite-btn"),h=document.getElementById("favorites-list"),x=document.getElementById("clear-favorites-btn"),v="rng-last-visit",u="rng-favorites",E="rng-last-name";function O(){const e=new Date().toLocaleString();localStorage.setItem(v,e)}(function(){const e=localStorage.getItem(v);e&&console.log("Welcome back! Last visit:",e),O()})();function I(){d.value==="fantasy"?y.style.display="block":y.style.display="none"}d.addEventListener("change",I);I();async function L(){i.textContent="Generating name...",s.disabled=!0;const e=d.value;try{let o="";if(e==="real"){const r=await f(),n=B.value;if(n!=="any"&&r.gender!==n)return L();o=`${r.name.first} ${r.name.last}`}else if(e==="fantasy"){const r={};r.ancestry=C.value,r.gender=g.value==="any"?void 0:g.value,r.family=p.value&&p.value!=="f"?"t":void 0,o=(await m(r)).trim()}else{const r=await f(),n=await m();o=`${r.name.first} ${r.name.last} | ${n.trim()}`}i.textContent=o,localStorage.setItem(E,o),s.disabled=!1}catch(o){console.error("Error generating name:",o),i.textContent="Failed to load names. Try again."}}S.addEventListener("click",L);(function(){const e=localStorage.getItem(E);e&&(i.textContent=e,s.disabled=!1)})();function w(){return JSON.parse(localStorage.getItem(u))||[]}function b(e){localStorage.setItem(u,JSON.stringify(e))}function c(){const e=w();h.innerHTML="",e.forEach((o,r)=>{const n=document.createElement("li");n.textContent=o;const t=document.createElement("button");t.textContent="X",t.addEventListener("click",()=>{e.splice(r,1),b(e),c()}),n.appendChild(t),h.appendChild(n)})}s.addEventListener("click",()=>{const e=i.textContent;if(!e||e.includes("Generating"))return;const o=w();if(o.length>=10){alert("You can only store 10 favorites.");return}o.push(e),b(o),c()});x.addEventListener("click",()=>{localStorage.removeItem(u),c()});c();
