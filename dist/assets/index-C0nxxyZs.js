(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function a(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(t){if(t.ep)return;t.ep=!0;const s=a(t);fetch(t.href,s)}})();async function f(){const e=await fetch("https://randomuser.me/api/");if(!e.ok)throw new Error("Failed to fetch random user");return(await e.json()).results[0]}document.getElementById("year").textContent=new Date().getFullYear();document.getElementById("last-modified").textContent=`Last Modified: ${document.lastModified}`;getFantasyName;const S=document.getElementById("generate-name-btn"),r=document.getElementById("random-name-display"),d=document.getElementById("name-category"),F=document.getElementById("name-gender"),u=document.getElementById("fantasy-filters"),b=document.getElementById("fantasy-ancestry"),y=document.getElementById("fantasy-gender"),g=document.getElementById("fantasy-family"),i=document.getElementById("favorite-btn"),v=document.getElementById("favorites-list"),w=document.getElementById("clear-favorites-btn"),p="rng-last-visit",m="rng-favorites",E="rng-last-name";function N(){const n=new Date().toLocaleString();localStorage.setItem(p,n)}(function(){const e=localStorage.getItem(p);e&&console.log("Welcome back! Last visit:",e),N()})();function I(){d.value==="fantasy"?u.style.display="block":u.style.display="none"}d.addEventListener("change",I);I();async function L(){r.textContent="Generating name...",i.disabled=!0;const n=d.value;try{let e="";if(n==="real"){const a=await f(),o=F.value;if(o!=="any"&&a.gender!==o)return L();e=`${a.name.first} ${a.name.last}`}else if(n==="fantasy"){const a={};a.ancestry=b.value,a.gender=y.value==="any"?void 0:y.value,a.family=g.value&&g.value!=="f"?"t":void 0,e=(await getFantasyName(a)).trim()}else{const a=await f(),o=await getFantasyName();e=`${a.name.first} ${a.name.last} | ${o.trim()}`}r.textContent=e,localStorage.setItem(E,e),i.disabled=!1}catch(e){console.error("Error generating name:",e),r.textContent="Failed to load names. Try again."}}S.addEventListener("click",L);(function(){const e=localStorage.getItem(E);e&&(r.textContent=e,i.disabled=!1)})();function h(){return JSON.parse(localStorage.getItem(m))||[]}function B(n){localStorage.setItem(m,JSON.stringify(n))}function c(){const n=h();v.innerHTML="",n.forEach((e,a)=>{const o=document.createElement("li");o.textContent=e;const t=document.createElement("button");t.textContent="X",t.addEventListener("click",()=>{n.splice(a,1),B(n),c()}),o.appendChild(t),v.appendChild(o)})}i.addEventListener("click",()=>{const n=r.textContent;if(!n||n.includes("Generating"))return;const e=h();if(e.length>=10){alert("You can only store 10 favorites.");return}e.push(n),B(e),c()});w.addEventListener("click",()=>{localStorage.removeItem(m),c()});c();
